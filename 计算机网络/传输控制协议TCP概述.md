# 传输控制协议TCP概述

本文主要内容是TCP协议的特点和连接方式。

## TCP协议的特点

TCP是TCP/IP体系中非常复杂的一个协议，其特点如下：

1. TCP是面向连接的传输层协议。 应用程序在使用TCP协议之前，必须先建立TCP连接，在数据传输完毕后，必须释放已经建立的TCP连接。
2. 每条TCP连接只能有两个端点(endpoint),每条TCP连接只能是点对点的（一对一）
3. TCP提供 **可靠交付**的服务。TCP允许通信双方的应用进程在任何时候都能发送数据。TCP连接的两端都设有发送缓存和接收缓存，用来临时存放双向通信的数据。在发送时，应用程序在把数据传送给TCP的缓存后，就可以做自己的事情，而TCP在合适的时候读取缓存中的数据。
4. 面向字节流 TCP中的流指的是流入到进程或从进程流出的字节序列。

## TCP的连接

TCP把连接作为最基本的抽象。 它的许多特性都与TCP是面向连接这个基本特性有关。 TCP连接的端点叫做套接字（socket）或插口。 所谓套接字，根据RFC 793的定义： 端口号拼接到IP地址之后就是套接字。 

```
套接字socket = (IP地址:端口号)
```
也就是说，每条TCP连接唯一被通信两端的两个端点（即两个套接字）所确定，即：

```
TCP连接 ::= {socket1, socket2} = {(IP1:port1):(IP2:port2)}
```
因此，我们说TCP连接就是由协议软件所提供的一种抽象，其两端是很抽象的套接字，即(IP地址：端口号)。另外，同一个IP地址可以有多个不同的TCP连接，而不同一个端口号也可以出现在多个不同的TCP连接中。

