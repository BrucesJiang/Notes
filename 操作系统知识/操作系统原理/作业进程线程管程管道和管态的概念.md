# 作业、进程、线程、管程、管道和管态的概念

### 作业
用户在一个事务处理过程中要求计算机系统所做工作的集合，它包括用户程序和数据集控制命令等。作业是由一系列有序步骤组成的。在执行一个作业时可能会运行多个不同的进程。

### 进程
程序在一个数据集上的一次执行过程，是操作系统资源分配和调度的基本单位。


### 线程
线程是进程中一个实体，操作系统独立调度和执行的基本单位。一个进程可能包括多个线程。

线程的特征：

1. 线程的执行状态包括运行、就绪和等待。
2. 进程中的所有线程共享所属进程内的主存和其他资源。
3. 拥有自己的线程控制块和执行栈，寄存器。


进程和线程的区别：

1. 进程间是独立的，在内存空间、上下文环境上。而线程是运行在进程空间内的，同一进程所产生的线程共享同一内存空间。
2. 进程间是可以并发执行的，线程之间也可以并发执行。但同一进程中的两端代码只有在引入线程的情况下才能并发执行。
3. 线程是属于进程的，当进程退出时，该进程所产生的线程都会被强制退出并清除。
4. 线程占用的资源要少于进程占用的资源，线程间的切换速度比进程间的切换快的多。

### 管程
管程：是定义了一个数据结构和在该数据结构上能为并发进程所执行的一组操作。这些操作能同步进程和改变管程中的数据。它是一种进程同步机制。在结构上类似于面向对象中的类。在功能上和信号量和p，v操作类似。可以更方便的管理系统的临界资源。

管程特征：

1. 模块化：一个管程就是一个可单独编译的实体，结构上和类相仿。
2. 抽象数据类型。
3. 信息隐蔽。

管程要素：

1. 安全性：管程中的数据变量在管程之外是不可见的，只能有该管程的操作过程存取。
2. 互斥性：任一时刻只能有一个调用者进入管程。
3. 等待机制：设置等待队列及相应的操作，对资源进行管理。

      
## 管道
管道是一种进程通信机制。是共享文件模式，它基于文件系统，在两个进程之间，以先进先出的方式实现消息的单向传送。管道是一种特殊文件。

进程通信 还有socket、信箱、信号量、共享内存、消息队列等方式）
所谓管道，就是连接在两个进程之间的一个打开的共享文件，专用于进程之间进行数据通信。发送进程可以源源不断地从管道一端写入数据流，每次写入的长度是可变的；接收进程在需要时可以从管道的另一端读出数据，读出单位长度也是可变的。显然，管道通信的基础是文件系统。 


## 管态

管态(系统态)   V.S   目态（用户态）

CPU交替执行操作系统程序和用户程序。

CPU的状态属于程序状态字PSW的一位。大多数计算机系统将CPU执行状态分为管态和目态。
管态又叫特权态，系统态或核心态。CPU在管态下可以执行指令系统的全集。通常，操作系统在管态下运行。

目态又叫常态或用户态。机器处于目态时，程序只能执行非特权指令。用户程序只能在目态下运行，如果用户程序在目态下执行特权指令，硬件将发生中断，由操作系统获得控制，特权指令执行被禁止，这样可以防止用户程序有意或无意的破坏系统。

从目态转换为管态的唯一途径是中断。

从管态到目态可以通过修改程序状态字来实现，这将伴随这由操作系统程序到用户程序的转换。
